import{_ as e,o as l,c as i,Q as a}from"./chunks/framework.6ae5a3d9.js";const S=JSON.parse('{"title":"从输入URL到页面加载完成都发生了什么？","description":"","frontmatter":{},"headers":[],"relativePath":"8 浏览器从输入URL到页面呈现的过程！/讲讲从输入URL到页面加载完成都发生了什么.md","filePath":"8 浏览器从输入URL到页面呈现的过程！/讲讲从输入URL到页面加载完成都发生了什么.md"}'),t={name:"8 浏览器从输入URL到页面呈现的过程！/讲讲从输入URL到页面加载完成都发生了什么.md"},o=a('<h1 id="从输入url到页面加载完成都发生了什么" tabindex="-1">从输入URL到页面加载完成都发生了什么？ <a class="header-anchor" href="#从输入url到页面加载完成都发生了什么" aria-label="Permalink to &quot;从输入URL到页面加载完成都发生了什么？&quot;">​</a></h1><ul><li><p>得到对应服务器的IP地址</p><ol><li><p>浏览器会在本地的缓存中查找是否存在当前访问域名的缓存，如果有就返回数据，否则就继续第二步，通常情况下浏览器都会缓存网站的数据，为了就是加速访问；</p></li><li><p>查看当前操作系统的hosts文件是否写有IP和域名对应的关系，如果有则得到IP地址，否则继续第三步；</p></li><li><p>通过本地的Local DNS获取域名对应的IP地址，那么Local DNS其实就是我们的交换机或者路由器配置的DNS，通常情况下都有两个，一个主一个辅；</p></li><li><p>Local DNS会先看缓存DNS中是否有这条记录，如果没有就继续往下走，否则就返回IP地址；</p></li><li><p>Local DNS会继续请求根服务器(.)，根服务器全球只有十三台，根服务器也没有blog.ansheng.me域名的解析，但是根有.me域名的解析，然后根就会继续发起请求，当然只有在转发模式下才会这么做。</p></li><li><p>根服务器请求.me服务器有没有blog.ansheng.me域名的解析，.me服务器服务器没有对应的解析，但是我有ansheng.me域名的解析，然后由.me服务器继续发起请求；</p></li><li><p>.meDNS服务器问ansheng.me DNS服务器有没有blog.ansheng.me域名的解析，ansheng.meDNS服务器说我有 blog.ansheng.me 域名的解析；</p></li><li><p>ansheng.me DNS服务器把 blog.ansheng.me 域名解析的IP地址返回给，.meDNS服务器；</p></li><li><p>.meDNS服务器把记录返回给根服务器；</p></li><li><p>根服务器把记录返回给Local DNS服务器</p></li><li><p>Local DNS服务器会把记录还存在DNS</p></li><li><p>Cache服务器上，并且把记录再次返回给浏览器；</p></li><li><p>浏览器得到了对应的IP地址后就建立TCP连接；</p></li></ol></li><li><p>建立TCP连接（详见：第四章 TCP/IP概述 4.5 TCP/IP协议族共同工作实例）</p><ol><li>TCP三次握手建立连接</li></ol></li><li><p>数据传送 2. 发起HTTP请求 3. HTTP请求响应</p></li><li><p>浏览器解析HTML内容，生成网页</p><ol><li>HTML代码转化成DOM树</li><li>如果有css，则CSS代码转化成CSSOM树</li><li>遇到<code>&lt;script/&gt;</code>加载js并且会阻碍解析，直到js执行完毕，继续解析html。</li><li>初始的HTML被完全解析后会触发DOMContentLoaded事件。</li><li>DOM树和CSSOM树构，生成一棵渲染树</li><li>生成布局</li><li>将布局绘制在屏幕上</li></ol></li></ul><p><a href="https://mp.weixin.qq.com/s/PdIVyu-6edjm9So_av5UgA" target="_blank" rel="noreferrer">https://mp.weixin.qq.com/s/PdIVyu-6edjm9So_av5UgA</a><a href="https://blog.ansheng.me/article/through-the-browser-to-access-a-site-behind-what-has-gone-through/" target="_blank" rel="noreferrer">https://blog.ansheng.me/article/through-the-browser-to-access-a-site-behind-what-has-gone-through/</a></p>',3),s=[o];function n(p,r,_,h,c,m){return l(),i("div",null,s)}const d=e(t,[["render",n]]);export{S as __pageData,d as default};
