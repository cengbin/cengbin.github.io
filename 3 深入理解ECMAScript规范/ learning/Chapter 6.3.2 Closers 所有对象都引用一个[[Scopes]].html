<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <title>Title</title>
  </head>
  <body>
    <script>
      var data = []

      for (var k = 0; k < 3; k++) {
        data [k] = (function _helper(k) {

          // 代码执行到这里首先创建函数fun

          // 第一次循环 foo.[[Scopes]]
          // fun.[[Scopes]] = [
          //    {k:0}
          // ]

          // 第二次循环 foo.[[Scopes]]
          // fun.[[Scopes]] = [
          //    {k:1}
          // ]

          // 第三次循环 foo.[[Scopes]]
          // fun.[[Scopes]] = [
          //    {k:2}
          // ]

          function fun() {
            return k
          }

          return fun
        })(k)
      }

      console.log(data[0]()) // 0
      console.log(data[1]()) // 1
      console.log(data[2]()) // 2
    </script>
  </body>
</html>